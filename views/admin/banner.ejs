<%- include("../../views/partials/admin/header") %>
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <style>
    .container { flex-grow: 1; }
    td img { height: 2rem; width: 3rem; object-fit: cover; }
  </style>
</head>
<body>

  <!-- Optional: your admin header/navbar goes here -->

  <div class="container mt-5">
    <h1 class="mb-4">Banners</h1>

    <div class="d-flex justify-content-end mb-3">
      <a href="/admin/add-banner" class="btn btn-success">
        <i class="bi bi-plus-square me-2"></i> Add Banner
      </a>
    </div>

    <table class="table table-bordered table-striped align-middle">
      <thead class="table-dark">
        <tr>
          <th>Image</th>
          <th>Title</th>
          <th>Description</th>
          <th>Status</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        <% if(data.length !== 0) { %>
          <% for(let i=0;i<data.length; i++) { %>
        <!-- Sample rows: replace with your data -->
        <tr>
          <td><img src="<%= data[i].image %>" style="height: 2rem; width: 3rem;"  alt="Banner"></td>
          <td><%= data[i].title %></td>
          <td><%= data[i].description %></td>
          <td><% if(data[i].startDate < Date.now() && data[i].endDate > Date.now()) { %>
            <p class="text-success">Active</p>
        <%} else { %>
             <p class="text-danger">Not Active</p>
        <% } %>
        </td>
        <td><a href="/admin/deleteBanner?id=<%= data[i]._id %>" title="Remove Banner"><i class="bi bi-trash"></i></a></td>
        </tr>
        <% } %>
        <% } else { %>
            <tr>
                <td class="text-center" colspan="5">No Banners Available</td>
            </tr>
        <% } %>
      </tbody>
    </table>

    <!-- Pagination -->
    <% if(totalPages > 1) { %>
      <nav>
        <ul class="pagination justify-content-center">
          <% for(let i=1; i<=totalPages; i++) { %>
            <li class="page-item <%= i=== currentPage ? 'Active' : '' %>">
              <a class="page-link" href="/admin/banners?page=<%= i %>&search=<%= search %>"><%= i %></a>
            </li>
          <% } %>
        </ul>
      </nav>
    <% } %>

  <!-- Optional: your admin footer goes here -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <%- include("../../views/partials/admin/footer") %>
